@use "../libs/functions" as f;
@use "../libs/breakpoints" as s;

/* Section/Article */
section, article {
    &.special {
        // Flexbox centering is more reliable for nested elements
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }
}

header {
    &.major {
        display: flex;
        flex-direction: column;
        align-items: flex-start; // Default left alignment
        margin-bottom: f.size(element-margin);
        max-width: 100%;

        > :first-child {
            margin-bottom: 0;
            display: inline-block; // Shrink-wraps to text size

            // Decorative underline
            &:after {
                content: '';
                display: block;
                height: 2px;
                background-color: f.palette(fg-bold);
                margin: 0.325em 0 0.5em 0;
                width: 100%; // Matches the width of the text precisely
            }
        }

        > p {
            font-size: 0.7em;
            font-weight: f.font(weight-bold);
            letter-spacing: f.font(letter-spacing-alt);
            margin-bottom: 0;
            text-transform: uppercase;
        }

        // Handle ".special" centering via the parent section
        .special & {
            align-items: center;
        }
    }

    @include s.breakpoint(small) {
        &.major {
            > p br {
                display: none;
            }
        }
    }
}